/** * Copyright (c) 2008-2009 Ardor Labs, Inc. * * This file is part of Ardor3D. * * Ardor3D is free software: you can redistribute it and/or modify it  * under the terms of its license which may be found in the accompanying * LICENSE file or at <http://www.ardor3d.com/LICENSE>. */package com.ardor3d.util.pool;import java.util.ArrayList;import java.util.List;public abstract class ObjectPool<T> {    private final List<T> _pool;    private int _poolSize;    protected abstract T newInstance();    public ObjectPool(final int initialSize) {        _pool = new ArrayList<T>(initialSize);        _poolSize = 0;    }    public synchronized T fetch() {        // If we have something in our pool...        if (_poolSize > 0) {            // remove the last item and decrement count.            return _pool.remove(--_poolSize);        } else {            return newInstance();        }    }    public synchronized void release(final T obj) {        if (obj == null) {            return;        }        _pool.add(obj);        _poolSize++;    }    public synchronized int getPoolSize() {        return _poolSize;    }}